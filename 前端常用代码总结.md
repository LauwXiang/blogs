# 前端常用代码片段

---------------0
## 目录
>* [1.IE支持html5常用标签](#IE支持html5常用标签)
>* [2.IE中embed加载视频层级比div高](#IE中embed加载视频层级比div高)
>* [3.预加载图像](#预加载图像及判断图片加载成功或失败)
<!-- >* [2.webpack配置分析](#webpack配置分析)
>* [3.vue踩过的那些坑](#vue踩过的那些坑) -->

-----------------

### 1.IE支持html5常用标签 
<a name="IE支持html5常用标签"></a>
#### js代码

```javascript\
(function(){if(!/*@cc_on!@*/0)return;var e ="abbr,article,aside,audio,canvas,datalist,details,dialog,eventsource,figure,footer,header,hgroup,mark,menu,meter,nav,output,progress,section,time,video".split(','),i=e.length;while(i--){document.createElement(e[i])}})()
```
#### css代码

```css\
article,aside,dialog,footer,header,section,footer,nav,figure,menu{display:block}
```
--------
### 2.IE中embed加载视频层级比div高 
<a name="IE中embed加载视频层级比div高"></a>
在embed标签中添加wmode="transparent"属性

```html\
/*html* /
<embed src="${ad.image}" width="1250px" height="200px" autosize="true" wmode="transparent" ></embed> 
```
--------
### 3.预加载图像及判断图片加载成功或失败 
<a name="预加载图像及判断图片加载成功或失败"></a>

网页中需要使用大量初始不可见的（例如，悬停的）图像。

```javascript\
let = preloadImages = (imgArr) => {
    imgArr.forEach((value, key) => {
        let img = new Image();
        img.src = value;
        img.onload = () => {
            if (img.complete) {
                console.log(value + ' is successful');
            } else {
                console.log('I do not know what happened');
            }
        };
        img.onerror = () => {
            console.log(value + ' is failed');
        }
    })
};
preloadImages(['http://www.w3school.com.cn/ui2017/compatible_opera.png', 'http://www.w3school.com.cn/ui2017/compatible_firefox.png', '1.png']);
```